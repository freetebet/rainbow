<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.rainbow.company.custMgmt.mapper.companyMapper">

	<!-- 기업 리스트 가져오기-->
	<select id="companyList"  resultType="org.rainbow.company.custMgmt.domain.companyVO">
		SELECT * FROM RAIN_cCompany_tbl ORDER by companyNo asc
	</select>

   <!-- 서치바 - 키워드 검색 결과 가져오기 -->
	<select id="getSearch" resultType="org.rainbow.company.custMgmt.domain.companyVO" parameterType="org.rainbow.company.custMgmt.domain.companySearchDTO">
   SELECT companyNo, comName, comBizNum, comBizType, comArea, comAddr, comContact, comBizStatus
   FROM RAIN_cCompany_tbl
   WHERE 1 = 1

   <if test="keyword != null and keyword != ''">
      AND (
        comName = #{keyword} 
         OR comBizNum = #{keyword} 
         OR comAddr = #{keyword}
         OR comContact = #{keyword} 
      )
   </if>
  <if test="comBizType != null and comBizType != '' and comBizType != '선택'">
  
    AND comBizType = #{comBizType}
</if>
</select>
  
  
  
  
  
  
  <!-- 새로운 기업 등록하기-->
<insert id="companyRegister" parameterType="org.rainbow.company.custMgmt.domain.companyVO">
insert into  RAIN_cCompany_tbl(comCEO) values (#{comCEO})
</insert>

 <!-- 기업 정보  가져오기-->
<select id="companyView" resultType="org.rainbow.company.custMgmt.domain.companyVO" parameterType="int">
	select * from RAIN_cCompany_tbl where companyNo=#{companyNo}
</select>


</mapper>